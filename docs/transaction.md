# 交易

交易（transaction）是比特币核心所在。

在区块链中，交易一旦被创建，就没有任何人能够去修改它或者删除它。

比特币采用的 UTXO 模型，并非账户模型，并不直接存在“余额”这个概念，余额需要通过遍历整个交易历史得来。

## 比特币交易

一笔交易由一些输入（input）和输出（output）组合而来。

对于每一笔新的交易，它的输入会引用之间一笔交易的输出，引用就是花费的意思。所谓引用之前的一个输出，也就是将之前的一个输出包含在另一笔交易的输入当中，就是花费之
前的交易输出.

### 交易输出/输入

关于输出的一个重要特点是他们是不可分割的，这意味着你不能引用其价值的一部分。当在新的交易中引用输出时，它将作为一个整体被使用。
如果其价值大于要求，则会生成 一个零钱并发送会发送者

输出是存储“硬币“的地方。每个输出都有一个解锁脚本，该脚本决定了解锁输出的逻辑。每个新交易都必须至少有一个输入和输出。
输入引用来自前一个交易的输出，并提供 `ScriptSIG` 输出解锁脚本中使用的数据，已解锁它并使用其值创建新的输出。

**注意**：在比特币中，先有蛋（输出），后有鸡（输入）。

当矿工开始挖掘一个区块时，它会向其中田间一个 `coinbase` 交易。`coinbase` 交易是一种特殊类型的交易，它不需要先前存在的输出。
它会凭空创造输出（即”硬币“）。这是矿工挖掘新区快所获得的奖励。

- 一个与接收者地址锁定的地址。这是将货币实际转移到其他地址。
- 一个与发送者地址锁定的地址。这是一个变化，只有当未使用的输出所含简直超过新交易所需的价值时才会创建它。

**输出时不可分割的**


## 参考资料
- [Transaction 1](https://jeiwan.net/posts/building-blockchain-in-go-part-4/)
- [Bitcoin Transaction](https://en.bitcoin.it/wiki/Transaction)